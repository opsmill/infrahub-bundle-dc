{"version":3,"file":"index.js","sources":["../src/panel-plugin.tsx","../src/index.tsx"],"sourcesContent":["import type { PluginComponentProps, PluginManifest } from \"@infrahub/plugin-sdk\";\n\n/**\n * Example panel plugin that shows quick stats about an object\n */\nexport const manifest: PluginManifest = {\n  id: \"example-quick-stats\",\n  name: \"Quick Stats\",\n  kinds: [\"DcimDevice\"],\n  position: \"panel\",\n  panelTitle: \"Quick Stats\",\n  icon: \"mdi:chart-bar\",\n  priority: 5,\n};\n\n// Type for standard object details data\ninterface ObjectDetailsData {\n  id: string;\n  display_label: string;\n  name?: { value: string };\n  description?: { value: string | null };\n  [key: string]: unknown;\n}\n\nexport default function QuickStatsPlugin({\n  object,\n  schema,\n  objectData,\n}: PluginComponentProps<unknown, ObjectDetailsData>) {\n  const attributeCount = schema.attributes?.length ?? 0;\n  const relationshipCount = schema.relationships?.length ?? 0;\n\n  // Access the full object details data\n  const deviceName = objectData?.name?.value ?? object.displayLabel;\n  const description = objectData?.description?.value;\n\n  return (\n    <div className=\"space-y-3\">\n      <div className=\"grid grid-cols-3 gap-4 text-center\">\n        <div>\n          <div className=\"text-2xl font-bold text-blue-600\">{attributeCount}</div>\n          <div className=\"text-xs text-gray-500\">Attributes</div>\n        </div>\n        <div>\n          <div className=\"text-2xl font-bold text-green-600\">{relationshipCount}</div>\n          <div className=\"text-xs text-gray-500\">Relationships</div>\n        </div>\n        <div>\n          <div className=\"text-2xl font-bold text-purple-600\">\n            {object.id?.slice(0, 8) ?? \"N/A\"}\n          </div>\n          <div className=\"text-xs text-gray-500\">ID (short) hello Bilal</div>\n        </div>\n      </div>\n      {description && (\n        <div className=\"text-gray-600 text-sm border-gray-200 border-t pt-2\">\n          <span className=\"font-medium\">{deviceName}:</span> {description}\n        </div>\n      )}\n    </div>\n  );\n}\n","import { useNavigate } from \"react-router\";\n\nimport type { PluginComponentProps, PluginManifest } from \"@infrahub/plugin-sdk\";\n\n// Import the panel plugin\nimport QuickStatsPlugin, { manifest as quickStatsManifest } from \"./panel-plugin\";\n\n/**\n * Plugin manifest - defines metadata about this plugin\n */\nexport const manifest: PluginManifest = {\n  id: \"example-device-info\",\n  name: \"Device Visualization\",\n  kinds: [\"DcimDevice\"],\n  position: \"tab\",\n  tabLabel: \"Visualization\",\n  icon: \"mdi:server\",\n  priority: 10,\n  query: {\n    type: \"inline\",\n    query: `\n      query GetDeviceInfo($ids: [ID!]) {\n        DcimDevice(ids: $ids) {\n          edges {\n            node {\n              id\n              display_label\n              name { value }\n              description { value }\n              status { value }\n              interfaces {\n                count\n                edges {\n                  node {\n                    id\n                    display_label\n                    name {\n                      value\n                    }\n                    role {\n                      value\n                    }\n                    status {\n                      value\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    `,\n  },\n};\n\n// Color mapping for interface roles\nconst ROLE_COLORS: Record<string, { bg: string; border: string; text: string; label: string }> = {\n  backbone: {\n    bg: \"bg-purple-100 hover:bg-purple-200\",\n    border: \"border-purple-400\",\n    text: \"text-purple-800\",\n    label: \"Backbone\",\n  },\n  upstream: {\n    bg: \"bg-blue-100 hover:bg-blue-200\",\n    border: \"border-blue-400\",\n    text: \"text-blue-800\",\n    label: \"Upstream\",\n  },\n  peering: {\n    bg: \"bg-green-100 hover:bg-green-200\",\n    border: \"border-green-400\",\n    text: \"text-green-800\",\n    label: \"Peering\",\n  },\n  peer: {\n    bg: \"bg-green-100 hover:bg-green-200\",\n    border: \"border-green-400\",\n    text: \"text-green-800\",\n    label: \"Peer\",\n  },\n  server: {\n    bg: \"bg-orange-100 hover:bg-orange-200\",\n    border: \"border-orange-400\",\n    text: \"text-orange-800\",\n    label: \"Server\",\n  },\n  spare: {\n    bg: \"bg-gray-100 hover:bg-gray-200\",\n    border: \"border-gray-400\",\n    text: \"text-gray-600\",\n    label: \"Spare\",\n  },\n  loopback: {\n    bg: \"bg-cyan-100 hover:bg-cyan-200\",\n    border: \"border-cyan-400\",\n    text: \"text-cyan-800\",\n    label: \"Loopback\",\n  },\n  management: {\n    bg: \"bg-yellow-100 hover:bg-yellow-200\",\n    border: \"border-yellow-400\",\n    text: \"text-yellow-800\",\n    label: \"Management\",\n  },\n  leaf: {\n    bg: \"bg-emerald-100 hover:bg-emerald-200\",\n    border: \"border-emerald-400\",\n    text: \"text-emerald-800\",\n    label: \"Leaf\",\n  },\n  default: {\n    bg: \"bg-slate-100 hover:bg-slate-200\",\n    border: \"border-slate-400\",\n    text: \"text-slate-700\",\n    label: \"Unknown\",\n  },\n};\n\ninterface InterfaceData {\n  id: string;\n  display_label: string;\n  name: { value: string };\n  role: { value: string } | null;\n  status: { value: string } | null;\n}\n\ninterface DeviceData {\n  id: string;\n  display_label: string;\n  name: { value: string };\n  description: { value: string } | null;\n  status: { value: string } | null;\n  interfaces: {\n    count: number;\n    edges: Array<{ node: InterfaceData }>;\n  };\n}\n\nfunction getRoleColors(role: string | null | undefined) {\n  if (!role) return ROLE_COLORS.default;\n  const normalizedRole = role.toLowerCase();\n  return ROLE_COLORS[normalizedRole] ?? ROLE_COLORS.default;\n}\n\nfunction InterfaceSlot({\n  iface,\n  onClick,\n}: {\n  iface: InterfaceData;\n  onClick: () => void;\n}) {\n  const role = iface.role?.value;\n  const colors = getRoleColors(role);\n  const status = iface.status?.value?.toLowerCase();\n  const isActive = status === \"active\" || status === \"enabled\";\n\n  return (\n    <button\n      onClick={onClick}\n      className={`\n        relative group w-16 h-20 rounded-lg border-2 transition-all duration-200\n        ${colors.bg} ${colors.border}\n        ${!isActive ? \"opacity-50\" : \"\"}\n        cursor-pointer shadow-sm hover:shadow-md hover:scale-105\n        flex flex-col items-center justify-center p-1\n      `}\n      title={`${iface.name.value}${role ? ` (${role})` : \"\"}${status ? ` - ${status}` : \"\"}`}\n    >\n      {/* Port indicator */}\n      <div\n        className={`w-8 h-3 rounded-sm mb-1 ${isActive ? \"bg-green-500\" : \"bg-gray-400\"}`}\n      />\n\n      {/* Interface name */}\n      <span className={`text-xs font-medium ${colors.text} truncate w-full text-center`}>\n        {iface.name.value.replace(/^(Ethernet|eth|GigabitEthernet|Gi|xe-|et-)/, \"\")}\n      </span>\n\n      {/* Role badge */}\n      {role && (\n        <span\n          className={`text-[9px] ${colors.text} opacity-75 truncate w-full text-center`}\n        >\n          {role}\n        </span>\n      )}\n\n      {/* Hover tooltip */}\n      <div\n        className=\"\n          absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1\n          bg-gray-900 text-white text-xs rounded shadow-lg\n          opacity-0 group-hover:opacity-100 transition-opacity\n          pointer-events-none whitespace-nowrap z-10\n        \"\n      >\n        {iface.display_label || iface.name.value}\n        {status && <span className=\"text-gray-400 ml-1\">({status})</span>}\n      </div>\n    </button>\n  );\n}\n\nfunction DeviceVisualization({\n  device,\n  onInterfaceClick,\n}: {\n  device: DeviceData;\n  onInterfaceClick: (iface: InterfaceData) => void;\n}) {\n  const interfaces = device.interfaces.edges.map((e) => e.node);\n\n  // Group interfaces by role for the legend\n  const roleGroups = interfaces.reduce(\n    (acc, iface) => {\n      const role = iface.role?.value?.toLowerCase() ?? \"default\";\n      if (!acc[role]) acc[role] = [];\n      acc[role].push(iface);\n      return acc;\n    },\n    {} as Record<string, InterfaceData[]>\n  );\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Device chassis */}\n      <div className=\"\">\n        {/* Device front panel */}\n        <div className=\"bg-white rounded-lg p-4 border border-gray-200\">\n          {/* Device name plate */}\n          <div className=\"flex items-center justify-between mb-4 pb-3 border-b border-gray-700\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-3 h-3 rounded-full bg-green-500 animate-pulse\" />\n              <span className=\"text-black font-bold text-lg\">\n                {device.name.value}\n              </span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              {device.status?.value && (\n                <span\n                  className={`px-2 py-0.5 rounded text-xs font-medium ${\n                    device.status.value.toLowerCase() === \"active\"\n                      ? \"bg-green-600 text-white\"\n                      : \"bg-yellow-600 text-white\"\n                  }`}\n                >\n                  {device.status.value}\n                </span>\n              )}\n            </div>\n          </div>\n\n          {/* Interface grid */}\n          {interfaces.length > 0 ? (\n            <div className=\"flex flex-wrap gap-2 justify-center\">\n              {interfaces.map((iface) => (\n                <InterfaceSlot\n                  key={iface.id}\n                  iface={iface}\n                  onClick={() => onInterfaceClick(iface)}\n                />\n              ))}\n            </div>\n          ) : (\n            <div className=\"text-gray-500 text-center py-8\">\n              No interfaces configured\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Legend */}\n      {Object.keys(roleGroups).length > 0 && (\n        <div className=\"bg-white rounded-lg border border-gray-200 p-4 mt-4\">\n          <h4 className=\"text-sm font-semibold text-gray-700 mb-3\">\n            Interface Roles\n          </h4>\n          <div className=\"flex flex-wrap gap-3\">\n            {Object.entries(roleGroups).map(([role, ifaces]) => {\n              const colors = getRoleColors(role);\n              return (\n                <div\n                  key={role}\n                  className={`flex items-center gap-2 px-3 py-1.5 rounded-full border ${colors.bg} ${colors.border}`}\n                >\n                  <div className={`w-3 h-3 rounded-full ${colors.border} border-2`} />\n                  <span className={`text-sm font-medium ${colors.text}`}>\n                    {colors.label}\n                  </span>\n                  <span className={`text-xs ${colors.text} opacity-70`}>\n                    ({ifaces.length})\n                  </span>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      )}\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-3 gap-4 mt-4\">\n        <div className=\"bg-blue-50 rounded-lg p-4 text-center\">\n          <div className=\"text-3xl font-bold text-blue-600\">\n            {device.interfaces.count}\n          </div>\n          <div className=\"text-sm text-blue-700\">Total Interfaces</div>\n        </div>\n        <div className=\"bg-green-50 rounded-lg p-4 text-center\">\n          <div className=\"text-3xl font-bold text-green-600\">\n            {interfaces.filter((i) => {\n              const s = i.status?.value?.toLowerCase();\n              return s === \"active\" || s === \"enabled\";\n            }).length}\n          </div>\n          <div className=\"text-sm text-green-700\">Active</div>\n        </div>\n        <div className=\"bg-gray-50 rounded-lg p-4 text-center\">\n          <div className=\"text-3xl font-bold text-gray-600\">\n            {interfaces.filter((i) => {\n              const s = i.status?.value?.toLowerCase();\n              return s !== \"active\" && s !== \"enabled\";\n            }).length}\n          </div>\n          <div className=\"text-sm text-gray-700\">Inactive</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/**\n * Plugin component - renders an interactive device visualization\n */\nexport default function DeviceInfoPlugin({\n  queryData,\n  isQueryLoading,\n  queryError,\n}: PluginComponentProps) {\n  const navigate = useNavigate();\n\n  if (isQueryLoading) {\n    return (\n      <div className=\"flex items-center justify-center p-12\">\n        <div className=\"flex flex-col items-center gap-3\">\n          <div className=\"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-500\" />\n          <span className=\"text-gray-500 text-sm\">Loading device data...</span>\n        </div>\n      </div>\n    );\n  }\n\n  if (queryError) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n          <h4 className=\"text-red-800 font-medium mb-1\">Error loading device</h4>\n          <p className=\"text-red-600 text-sm\">{queryError.message}</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Extract device data from query response\n  const deviceResponse = queryData as {\n    DcimDevice?: {\n      edges?: Array<{ node: DeviceData }>;\n    };\n  };\n  const device = deviceResponse?.DcimDevice?.edges?.[0]?.node;\n\n  if (!device) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n          <p className=\"text-yellow-700\">No device data available</p>\n        </div>\n      </div>\n    );\n  }\n\n  const handleInterfaceClick = (iface: InterfaceData) => {\n    // Navigate to the interface detail page\n    navigate(`/objects/DcimInterface/${iface.id}`);\n  };\n\n  return (\n    <div className=\"p-6\">\n      <DeviceVisualization device={device} onInterfaceClick={handleInterfaceClick} />\n    </div>\n  );\n}\n\n/**\n * Export multiple plugins from this package\n * The Vite plugin will detect this array and register all plugins\n */\nexport const plugins = [\n  { manifest, component: DeviceInfoPlugin },\n  { manifest: quickStatsManifest, component: QuickStatsPlugin },\n];\n"],"names":["manifest","jsxs","jsx","_a","useNavigate","quickStatsManifest"],"mappings":"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"}